(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{Cff2:function(e,i,t){"use strict";t.d(i,"a",(function(){return c}));var r=t("aurelia-framework"),n=t("aurelia-i18n"),o=t("dbac"),s=t("wESz"),d=t("v8Uj"),a=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},c=function(){function e(e,i){this.i18n=e,this.sharedService=i}return e.prototype.arrayRemoveItemByIndex=function(e,i){return e.filter((function(e,t){return i!==t}))},e.prototype.loadExtensionDynamically=function(e){try{switch(e){case d.d.autoTooltip:t("vI08");break;case d.d.cellExternalCopyManager:t("fUF5");break;case d.d.checkboxSelector:t("N6V6");break;case d.d.columnPicker:t("RcFN");break;case d.d.draggableGrouping:t("JMYW");break;case d.d.gridMenu:t("mAwp");break;case d.d.groupItemMetaProvider:t("uqKM");break;case d.d.headerButton:t("j61Q");break;case d.d.headerMenu:t("b5bV");break;case d.d.rowSelection:t("ycYR");break;case d.d.rowDetailView:t("+aCq");break;case d.d.rowMoveManager:t("+19A")}}catch(e){}},e.prototype.getPickerTitleOutputString=function(e,i){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');var t="",r=this.sharedService.gridOptions&&this.sharedService.gridOptions[i]||{},n=this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate||!1,s=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.locales||o.a.locales,d=r&&r[e],a=r&&r[e+"Key"];if(a&&this.i18n&&this.i18n.tr)t=this.i18n.tr(a||" ");else switch(e){case"customTitle":t=d||n&&this.i18n&&this.i18n.tr&&this.i18n.tr("COMMANDS")||s&&s.TEXT_COMMANDS;break;case"columnTitle":t=d||n&&this.i18n&&this.i18n.tr&&this.i18n.tr("COLUMNS")||s&&s.TEXT_COLUMNS;break;case"forceFitTitle":t=d||n&&this.i18n&&this.i18n.tr&&this.i18n.tr("FORCE_FIT_COLUMNS")||s&&s.TEXT_FORCE_FIT_COLUMNS;break;case"syncResizeTitle":t=d||n&&this.i18n&&this.i18n.tr&&this.i18n.tr("SYNCHRONOUS_RESIZE")||s&&s.TEXT_SYNCHRONOUS_RESIZE;break;default:t=d}return t},e.prototype.sortItems=function(e,i){e.sort((function(e,t){return e&&t&&e.hasOwnProperty(i)&&t.hasOwnProperty(i)?e[i]-t[i]:0}))},e.prototype.translateItems=function(e,i,t){if(Array.isArray(e))for(var r=0,n=e;r<n.length;r++){var o=n[r];o[i]&&(o[t]=this.i18n&&this.i18n.tr&&this.i18n.tr(o[i]))}},e=a([Object(r.n)(!0),Object(r.m)(r.e.of(n.I18N),s.a)],e)}()},lIXa:function(e,i,t){"use strict";(function(e){t.d(i,"a",(function(){return g}));var r=t("aurelia-framework"),n=t("aurelia-event-aggregator"),o=t("v8Uj"),s=t("Cff2"),d=t("wESz"),a=t("lBQj"),c=t("eyxJ"),l=t("wMS7"),h=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},u=function(i,t,r,n){return new(r||(r=e))((function(e,o){function s(e){try{a(n.next(e))}catch(e){o(e)}}function d(e){try{a(n.throw(e))}catch(e){o(e)}}function a(i){var t;i.done?e(i.value):(t=i.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,d)}a((n=n.apply(i,t||[])).next())}))},p=function(e,i){var t,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function d(o){return function(d){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=i.call(e,s)}catch(e){o=[6,e],r=0}finally{t=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,d])}}},g=function(){function e(e,i,t,r){this.aureliaUtilService=e,this.ea=i,this.extensionUtility=t,this.sharedService=r,this._slots=[],this._subscriptions=[],this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy(),Object(c.e)(this._subscriptions),this.disposeAllViewSlot()},e.prototype.disposeAllViewSlot=function(){var e=this;Array.isArray(this._slots)&&this._slots.forEach((function(i){return e.disposeViewSlot(i)})),this._slots=[]},e.prototype.create=function(e,i){var t=this;if(e&&i){if(this.extensionUtility.loadExtensionDynamically(o.d.rowDetailView),!i.rowDetailView)throw new Error('The Row Detail View requires options to be passed via the "rowDetailView" property of the Grid Options');if(i&&i.rowDetailView){if(!this._addon){if("function"!=typeof i.rowDetailView.process)throw new Error('You need to provide a "process" function for the Row Detail Extension to work properly');this._userProcessFn=i.rowDetailView.process,i.rowDetailView.process=function(e){return t.onProcessing(e)},i.rowDetailView.preTemplate||(this._preloadView=i&&i.rowDetailView&&i.rowDetailView.preloadView||"",i.rowDetailView.preTemplate=function(){return l.sanitize('<div class="container_loading"></div>')}),i.rowDetailView.postTemplate||(this._viewModel=i&&i.rowDetailView&&i.rowDetailView.viewModel||"",i.rowDetailView.postTemplate=function(e){return l.sanitize('<div class="container_'+e.id+'"></div>')}),this._addon=new Slick.Plugins.RowDetailView(i.rowDetailView)}var r=this._addon.getColumnDefinition();"object"==typeof r&&(r.excludeFromExport=!0,r.excludeFromColumnPicker=!0,r.excludeFromGridMenu=!0,r.excludeFromQuery=!0,r.excludeFromHeaderMenu=!0,e.unshift(r))}return this._addon}return null},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(e){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(o.d.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{selectActiveRow:!0}),this.sharedService.grid.setSelectionModel(e)),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.rowDetailView&&(this.sharedService.gridOptions.rowDetailView.onExtensionRegistered&&this.sharedService.gridOptions.rowDetailView.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onAsyncResponse,(function(e,t){i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAsyncResponse&&i.sharedService.gridOptions.rowDetailView.onAsyncResponse(e,t)})),this._eventHandler.subscribe(this._addon.onAsyncEndUpdate,(function(e,t){i.renderViewModel(t&&t.item),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAsyncEndUpdate&&i.sharedService.gridOptions.rowDetailView.onAsyncEndUpdate(e,t)})),this._eventHandler.subscribe(this._addon.onAfterRowDetailToggle,(function(e,t){i.renderPreloadView(),i.renderAllViewModels(),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAfterRowDetailToggle&&i.sharedService.gridOptions.rowDetailView.onAfterRowDetailToggle(e,t)})),this._eventHandler.subscribe(this._addon.onBeforeRowDetailToggle,(function(e,t){i.onBeforeRowDetailToggle(e,t),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onBeforeRowDetailToggle&&i.sharedService.gridOptions.rowDetailView.onBeforeRowDetailToggle(e,t)})),this._eventHandler.subscribe(this._addon.onRowBackToViewportRange,(function(e,t){i.onRowBackToViewportRange(e,t),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onRowBackToViewportRange&&i.sharedService.gridOptions.rowDetailView.onRowBackToViewportRange(e,t)})),this._eventHandler.subscribe(this._addon.onRowOutOfViewportRange,(function(e,t){i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onRowOutOfViewportRange&&i.sharedService.gridOptions.rowDetailView.onRowOutOfViewportRange(e,t)})),this._eventHandler.subscribe(this.sharedService.grid.onColumnsReordered,(function(){return i.redrawAllViewSlots()})),this._eventHandler.subscribe(this.sharedService.grid.onSort,(function(){return i.disposeAllViewSlot()})),this._subscriptions.push(this.ea.subscribe("filterService:filterChanged",(function(){return i.redrawAllViewSlots()})))),this._addon):null},e.prototype.redrawAllViewSlots=function(){var e=this;this._slots.forEach((function(i){e.redrawViewSlot(i)}))},e.prototype.renderAllViewModels=function(){var e=this;this._slots.forEach((function(i){i&&i.dataContext&&e.renderViewModel(i.dataContext)}))},e.prototype.redrawViewSlot=function(e){var i=document.getElementsByClassName("container_"+e.id);i&&i.length&&this.renderViewModel(e.dataContext)},e.prototype.renderPreloadView=function(){var e=document.getElementsByClassName("container_loading");e&&e.length&&this.aureliaUtilService.createAureliaViewAddToSlot(this._preloadView,e[0],!0)},e.prototype.renderViewModel=function(e){var i=document.getElementsByClassName("container_"+e.id);if(i&&i.length){var t=this.aureliaUtilService.createAureliaViewModelAddToSlot(this._viewModel,e,i[0],!0),r=this._slots.find((function(i){return i.id===e.id}));r&&t&&(r.view=t.view,r.viewSlot=t.viewSlot)}},e.prototype.disposeViewSlot=function(e){if(e&&e.view&&e.viewSlot&&e.view.unbind&&e.viewSlot.remove){var i=document.getElementsByClassName("container_"+this._slots[0].id);if(i&&i.length>0)return e.viewSlot.remove(e.view),e.view.unbind(),i[0].innerHTML="",e}return null},e.prototype.notifyTemplate=function(e){this._addon&&this._addon.onAsyncResponse.notify({item:e},new Slick.EventData,this)},e.prototype.onProcessing=function(e){return u(this,void 0,void 0,(function(){var i,t;return p(this,(function(r){switch(r.label){case 0:return e&&"function"==typeof this._userProcessFn?(i=void 0,[4,this._userProcessFn(e)]):[3,6];case 1:return(t=r.sent()).hasOwnProperty("id")?(i=t,[3,5]):[3,2];case 2:return t instanceof Response&&"function"==typeof t.json?[4,t.json()]:[3,4];case 3:return i=r.sent(),[3,5];case 4:t&&t.content&&(i=t.content),r.label=5;case 5:if(!i||!i.hasOwnProperty("id"))throw new Error('[Aurelia-Slickgrid] could not process the Row Detail, you must make sure that your "process" callback\n          (a Promise or an HttpClient call returning an Observable) returns an item object that has an "id" property');this.notifyTemplate(i||{}),r.label=6;case 6:return[2]}}))}))},e.prototype.onBeforeRowDetailToggle=function(e,i){if(i&&i.item&&i.item.__collapsed){if(i&&i.item){var t={id:i.item.id,dataContext:i.item};Object(c.a)(this._slots,t)}}else{var r=this._slots.findIndex((function(e){return e.id===i.item.id}));r>=0&&this.disposeViewSlot(this._slots[r])&&this._slots.splice(r,1)}},e.prototype.onRowBackToViewportRange=function(e,i){var t=this;i&&i.item&&this._slots.forEach((function(e){e.id===i.item.id&&t.redrawViewSlot(e)}))},e=h([Object(r.n)(!0),Object(r.m)(a.a,n.a,s.a,d.a)],e)}()}).call(this,t("B/eG").default)},pvKZ:function(e,i,t){"use strict";var r=t("aurelia-framework"),n=t("wESz"),o=t("v8Uj"),s=t("Cff2"),d=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},a=function(){function e(e,i){this.extensionUtility=e,this.sharedService=i}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(o.d.autoTooltip);var e=this.sharedService.gridOptions.autoTooltipOptions||{};return this._addon=new Slick.AutoTooltips(e),this.sharedService.grid.registerPlugin(this._addon),this._addon}return null},e=d([Object(r.n)(!0),Object(r.m)(s.a,n.a)],e)}(),c=t("eyxJ"),l=function(){return(l=Object.assign||function(e){for(var i,t=1,r=arguments.length;t<r;t++)for(var n in i=arguments[t])Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e}).apply(this,arguments)},h=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},u=function(){function e(e,i){this.extensionUtility=e,this.sharedService=i,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"addonOptions",{get:function(){return this._addonOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandQueue",{get:function(){return this._commandQueue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"undoRedoBuffer",{get:function(){return this._undoRedoBuffer},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(o.d.cellExternalCopyManager),this.createUndoRedoBuffer(),this.hookUndoShortcutKey(),this._addonOptions=l(l({},this.getDefaultOptions()),this.sharedService.gridOptions.excelCopyBufferOptions),this.sharedService.grid.setSelectionModel(new Slick.CellSelectionModel),this._addon=new Slick.CellExternalCopyManager(this._addonOptions),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.excelCopyBufferOptions&&(this.sharedService.gridOptions.excelCopyBufferOptions.onExtensionRegistered&&this.sharedService.gridOptions.excelCopyBufferOptions.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCopyCells,(function(i,t){e.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof e.sharedService.gridOptions.excelCopyBufferOptions.onCopyCells&&e.sharedService.gridOptions.excelCopyBufferOptions.onCopyCells(i,t)})),this._eventHandler.subscribe(this._addon.onCopyCancelled,(function(i,t){e.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof e.sharedService.gridOptions.excelCopyBufferOptions.onCopyCancelled&&e.sharedService.gridOptions.excelCopyBufferOptions.onCopyCancelled(i,t)})),this._eventHandler.subscribe(this._addon.onPasteCells,(function(i,t){e.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof e.sharedService.gridOptions.excelCopyBufferOptions.onPasteCells&&e.sharedService.gridOptions.excelCopyBufferOptions.onPasteCells(i,t)}))),this._addon):null},e.prototype.createUndoRedoBuffer=function(){var e=this,i=0;this._commandQueue=[],this._undoRedoBuffer={queueAndExecuteCommand:function(t){e._commandQueue[i]=t,i++,t.execute()},undo:function(){if(0!==i){i--;var t=e._commandQueue[i];t&&Slick.GlobalEditorLock.cancelCurrentEdit()&&t.undo()}},redo:function(){if(!(i>=e._commandQueue.length)){var t=e._commandQueue[i];i++,t&&Slick.GlobalEditorLock.cancelCurrentEdit()&&t.execute()}}}},e.prototype.getDefaultOptions=function(){var e=this,i=0;return{clipboardCommandHandler:function(i){e._undoRedoBuffer.queueAndExecuteCommand.call(e._undoRedoBuffer,i)},dataItemColumnValueExtractor:function(i,t){if(!e.sharedService.gridOptions.editable||!t.editor){var r=void 0!==t.exportWithFormatter?t.exportWithFormatter:e.sharedService.gridOptions.exportOptions&&e.sharedService.gridOptions.exportOptions.exportWithFormatter;if(t.formatter&&r){var n=t.formatter(0,0,i[t.field],t,i,e.sharedService.grid);if(t.sanitizeDataExport||e.sharedService.gridOptions.exportOptions&&e.sharedService.gridOptions.exportOptions.sanitizeDataExport){var o=n;return n&&"object"==typeof n&&n.hasOwnProperty("text")&&(o=n.text),null===o&&(o=""),Object(c.t)(o)}return n}}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:function(t){for(var r=0;r<t;r++){var n={id:"newRow_"+i++};e.sharedService.grid.getData().addItem(n)}}}},e.prototype.hookUndoShortcutKey=function(){var e=this;document.addEventListener("keydown",(function(i){90===(i.keyCode||i.code)&&(i.ctrlKey||i.metaKey)&&(i.shiftKey?e._undoRedoBuffer.redo():e._undoRedoBuffer.undo())}))},e=h([Object(r.n)(!0),Object(r.m)(s.a,n.a)],e)}(),p=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},g=function(){function e(e,i){this.extensionUtility=e,this.sharedService=i}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.create=function(e,i){if(Array.isArray(e)&&i){this.extensionUtility.loadExtensionDynamically(o.d.checkboxSelector),this._addon||(this._addon=new Slick.CheckboxSelectColumn(i.checkboxSelector||{}));var t=this._addon.getColumnDefinition();return"object"==typeof t&&(t.excludeFromExport=!0,t.excludeFromColumnPicker=!0,t.excludeFromGridMenu=!0,t.excludeFromQuery=!0,t.excludeFromHeaderMenu=!0,e.unshift(t)),this._addon}return null},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(e){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(o.d.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(e)),this.sharedService.gridOptions.preselectedRows&&e&&this.sharedService.grid.getSelectionModel()&&setTimeout((function(){return i._addon.selectRows(i.sharedService.gridOptions.preselectedRows)})),e):null},e=p([Object(r.n)(!0),Object(r.m)(s.a,n.a)],e)}(),f=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},v=function(){function e(e,i){this.extensionUtility=e,this.sharedService=i,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(o.d.columnPicker);var i=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),t=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),r=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker");return this.sharedService.gridOptions.columnPicker=this.sharedService.gridOptions.columnPicker||{},this.sharedService.gridOptions.columnPicker.columnTitle=this.sharedService.gridOptions.columnPicker.columnTitle||i,this.sharedService.gridOptions.columnPicker.forceFitTitle=this.sharedService.gridOptions.columnPicker.forceFitTitle||t,this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.sharedService.gridOptions.columnPicker.syncResizeTitle||r,this._addon=new Slick.Controls.ColumnPicker(this.sharedService.allColumns,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.enableColumnPicker&&(this.sharedService.gridOptions.columnPicker.onExtensionRegistered&&this.sharedService.gridOptions.columnPicker.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onColumnsChanged,(function(i,t){e.sharedService.gridOptions.columnPicker&&"function"==typeof e.sharedService.gridOptions.columnPicker.onColumnsChanged&&e.sharedService.gridOptions.columnPicker.onColumnsChanged(i,t),t&&Array.isArray(t.columns)&&t.columns.length>e.sharedService.visibleColumns.length&&(e.sharedService.visibleColumns=t.columns)}))),this._addon}return null},e.prototype.translateColumnPicker=function(){this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions&&(this.sharedService.gridOptions.columnPicker&&(this.emptyColumnPickerTitles(),this.sharedService.gridOptions.columnPicker.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker")),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this._addon.updateAllTitles(this.sharedService.gridOptions.columnPicker))},e.prototype.emptyColumnPickerTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.columnPicker&&(this.sharedService.gridOptions.columnPicker.columnTitle="",this.sharedService.gridOptions.columnPicker.forceFitTitle="",this.sharedService.gridOptions.columnPicker.syncResizeTitle="")},e=f([Object(r.n)(!0),Object(r.m)(s.a,n.a)],e)}(),S=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},m=function(){function e(e,i){this.extensionUtility=e,this.sharedService=i,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.create=function(e){return e?(this.extensionUtility.loadExtensionDynamically(o.d.draggableGrouping),!this._addon&&e&&(this._addon=new Slick.DraggableGrouping(e.draggableGrouping||{})),this._addon):null},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.draggableGrouping&&(this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered&&this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onGroupChanged,(function(i,t){e.sharedService.gridOptions.draggableGrouping&&"function"==typeof e.sharedService.gridOptions.draggableGrouping.onGroupChanged&&e.sharedService.gridOptions.draggableGrouping.onGroupChanged(i,t)}))),this._addon):null},e=S([Object(r.n)(!0),Object(r.m)(s.a,n.a)],e)}(),O=t("aurelia-i18n"),y=t("dbac"),_=t("9tpB"),b=t("NozK"),w=t("sfpN"),C=t("Kt3C"),M=t("+2Rf"),T=function(){return(T=Object.assign||function(e){for(var i,t=1,r=arguments.length;t<r;t++)for(var n in i=arguments[t])Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e}).apply(this,arguments)},x=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},E=function(){for(var e=0,i=0,t=arguments.length;i<t;i++)e+=arguments[i].length;var r=Array(e),n=0;for(i=0;i<t;i++)for(var o=arguments[i],s=0,d=o.length;s<d;s++,n++)r[n]=o[s];return r},R=function(){function e(e,i,t,r,n,o,s){this.excelExportService=e,this.exportService=i,this.extensionUtility=t,this.filterService=r,this.i18n=n,this.sharedService=o,this.sortService=s,this._areVisibleColumnDifferent=!1,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy(),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&this.sharedService.gridOptions.gridMenu.customItems&&(this.sharedService.gridOptions.gridMenu=this._userOriginalGridMenu)},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.showGridMenu=function(e){this._addon.showGridMenu(e)},e.prototype.register=function(){var e=this;if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');if(this._userOriginalGridMenu=T({},this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu){this._locales=this.sharedService.gridOptions&&this.sharedService.gridOptions.locales||y.a.locales,this.extensionUtility.loadExtensionDynamically(o.d.gridMenu),this.sharedService.gridOptions.gridMenu=T(T({},this.getDefaultGridMenuOptions()),this.sharedService.gridOptions.gridMenu);var i=Array.isArray(this._userOriginalGridMenu.customItems)&&this._userOriginalGridMenu.customItems||[];return this.sharedService.gridOptions.gridMenu.customItems=E(i,this.addGridMenuCustomCommands(i)),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this._addon=new Slick.Controls.GridMenu(this.sharedService.allColumns,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.onExtensionRegistered&&this.sharedService.gridOptions.gridMenu.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onBeforeMenuShow,(function(i,t){e.sharedService.gridOptions.gridMenu&&"function"==typeof e.sharedService.gridOptions.gridMenu.onBeforeMenuShow&&e.sharedService.gridOptions.gridMenu.onBeforeMenuShow(i,t)})),this._eventHandler.subscribe(this._addon.onColumnsChanged,(function(i,t){e._areVisibleColumnDifferent=!0,e.sharedService.gridOptions.gridMenu&&"function"==typeof e.sharedService.gridOptions.gridMenu.onColumnsChanged&&e.sharedService.gridOptions.gridMenu.onColumnsChanged(i,t),t&&Array.isArray(t.columns)&&t.columns.length>e.sharedService.visibleColumns.length&&(e.sharedService.visibleColumns=t.columns)})),this._eventHandler.subscribe(this._addon.onCommand,(function(i,t){e.executeGridMenuInternalCustomCommands(i,t),e.sharedService.gridOptions.gridMenu&&"function"==typeof e.sharedService.gridOptions.gridMenu.onCommand&&e.sharedService.gridOptions.gridMenu.onCommand(i,t)})),this._eventHandler.subscribe(this._addon.onMenuClose,(function(i,t){if(e.sharedService.gridOptions.gridMenu&&"function"==typeof e.sharedService.gridOptions.gridMenu.onMenuClose&&e.sharedService.gridOptions.gridMenu.onMenuClose(i,t),e.sharedService.grid&&"function"==typeof e.sharedService.grid.autosizeColumns){var r=e.sharedService.grid.getUID();e._areVisibleColumnDifferent&&r&&M("."+r).length>0&&(e.sharedService.gridOptions&&e.sharedService.gridOptions.enableAutoSizeColumns&&e.sharedService.grid.autosizeColumns(),e._areVisibleColumnDifferent=!1)}}))),this._addon}return null},e.prototype.refreshBackendDataset=function(e){var i=this,t="";e&&(this.sharedService.gridOptions=T(T({},this.sharedService.gridOptions),e));var r=this.sharedService.gridOptions.backendServiceApi;if(!r||!r.service||!r.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(r.service&&(t=r.service.buildQuery()),t&&""!==t){var n=new Date;r.preProcess&&r.preProcess(),r.process(t).then((function(e){var t=new Date;e&&r&&r.internalPostProcess&&r.internalPostProcess(e),r&&r.postProcess&&(e instanceof Object&&(e.metrics={startTime:n,endTime:t,executionTime:t.valueOf()-n.valueOf(),totalItemCount:i.sharedService.gridOptions&&i.sharedService.gridOptions.pagination&&i.sharedService.gridOptions.pagination.totalItems},e.statistics=e.metrics),r.postProcess(e))}))}},e.prototype.translateGridMenu=function(){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu){this.sharedService.gridOptions.gridMenu.customItems=[],this.emptyGridMenuTitles();var e=Array.isArray(this._userOriginalGridMenu.customItems)&&this._userOriginalGridMenu.customItems||[];this.sharedService.gridOptions.gridMenu.customItems=E(e,this.addGridMenuCustomCommands(e)),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this.sharedService.gridOptions.gridMenu.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this._addon.updateAllTitles(this.sharedService.gridOptions.gridMenu)}},e.prototype.addGridMenuCustomCommands=function(e){var i=this.sharedService.gridOptions.backendServiceApi||null,t=[];if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableFiltering){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllFiltersCommand){e.find((function(e){return"clear-filter"===e.command}))||t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllFiltersCommand||"fa fa-filter text-danger",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("CLEAR_ALL_FILTERS"):this._locales&&this._locales.TEXT_CLEAR_ALL_FILTERS,disabled:!1,command:"clear-filter",positionOrder:50})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideToggleFilterCommand){e.find((function(e){return"toggle-filter"===e.command}))||t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconToggleFilterCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("TOGGLE_FILTER_ROW"):this._locales&&this._locales.TEXT_TOGGLE_FILTER_ROW,disabled:!1,command:"toggle-filter",positionOrder:52})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideRefreshDatasetCommand&&i){e.find((function(e){return"refresh-dataset"===e.command}))||t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconRefreshDatasetCommand||"fa fa-refresh",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("REFRESH_DATASET"):this._locales&&this._locales.TEXT_REFRESH_DATASET,disabled:!1,command:"refresh-dataset",positionOrder:56})}}if(this.sharedService.gridOptions.showPreHeaderPanel&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideTogglePreHeaderCommand){e.find((function(e){return"toggle-preheader"===e.command}))||t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconTogglePreHeaderCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("TOGGLE_PRE_HEADER_ROW"):this._locales&&this._locales.TEXT_TOGGLE_PRE_HEADER_ROW,disabled:!1,command:"toggle-preheader",positionOrder:52})}if(this.sharedService.gridOptions.enableSorting&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllSortingCommand){e.find((function(e){return"clear-sorting"===e.command}))||t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllSortingCommand||"fa fa-unsorted text-danger",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("CLEAR_ALL_SORTING"):this._locales&&this._locales.TEXT_CLEAR_ALL_SORTING,disabled:!1,command:"clear-sorting",positionOrder:51})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportCsvCommand){e.find((function(e){return"export-csv"===e.command}))||t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportCsvCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("EXPORT_TO_CSV"):this._locales&&this._locales.TEXT_EXPORT_IN_CSV_FORMAT,disabled:!1,command:"export-csv",positionOrder:53})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExcelExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportExcelCommand){e.find((function(e){return"export-excel"===e.command}))||t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportExcelCommand||"fa fa-file-excel-o text-success",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("EXPORT_TO_EXCEL"):this._locales&&this._locales.TEXT_EXPORT_TO_EXCEL,disabled:!1,command:"export-excel",positionOrder:54})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportTextDelimitedCommand){e.find((function(e){return"export-text-delimited"===e.command}))||t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportTextDelimitedCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("EXPORT_TO_TAB_DELIMITED"):this._locales&&this._locales.TEXT_EXPORT_IN_TEXT_FORMAT,disabled:!1,command:"export-text-delimited",positionOrder:55})}return this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(t.length>0||this.sharedService.gridOptions.gridMenu.customItems&&this.sharedService.gridOptions.gridMenu.customItems.length>0)&&(this.sharedService.gridOptions.gridMenu.customTitle=this.sharedService.gridOptions.gridMenu.customTitle||this.extensionUtility.getPickerTitleOutputString("customTitle","gridMenu")),t},e.prototype.executeGridMenuInternalCustomCommands=function(e,i){if(i&&i.command)switch(i.command){case"clear-filter":this.filterService.clearFilters(),this.sharedService.dataView.refresh();break;case"clear-sorting":this.sortService.clearSorting(),this.sharedService.dataView.refresh();break;case"export-csv":this.exportService.exportToFile({delimiter:o.b.comma,filename:"export",format:o.f.csv,useUtf8WithBom:!0});break;case"export-excel":this.excelExportService.exportToExcel({filename:"export",format:o.f.xlsx});break;case"export-text-delimited":this.exportService.exportToFile({delimiter:o.b.tab,filename:"export",format:o.f.txt,useUtf8WithBom:!0});break;case"toggle-filter":var t=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showHeaderRow||!1;this.sharedService.grid.setHeaderRowVisibility(!t);break;case"toggle-toppanel":var r=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showTopPanel||!1;this.sharedService.grid.setTopPanelVisibility(!r);break;case"toggle-preheader":var n=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showPreHeaderPanel||!1;this.sharedService.grid.setPreHeaderPanelVisibility(!n);break;case"refresh-dataset":this.refreshBackendDataset()}},e.prototype.emptyGridMenuTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.customTitle="",this.sharedService.gridOptions.gridMenu.columnTitle="",this.sharedService.gridOptions.gridMenu.forceFitTitle="",this.sharedService.gridOptions.gridMenu.syncResizeTitle="")},e.prototype.getDefaultGridMenuOptions=function(){return{customTitle:void 0,columnTitle:this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),forceFitTitle:this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),syncResizeTitle:this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),iconCssClass:"fa fa-bars",menuWidth:18,customItems:[],hideClearAllFiltersCommand:!1,hideRefreshDatasetCommand:!1,hideToggleFilterCommand:!1}},e=x([Object(r.n)(!0),Object(r.m)(_.a,b.a,s.a,w.a,r.e.of(O.I18N),n.a,C.a)],e)}(),k=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},P=function(){function e(e){this.sharedService=e}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid?(this._addon=this.sharedService.groupItemMetadataProvider||{},this.sharedService.grid.registerPlugin(this._addon),this._addon):null},e=k([Object(r.n)(!0),Object(r.m)(n.a)],e)}(),D=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},A=function(){function e(e,i){this.extensionUtility=e,this.sharedService=i,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(o.d.headerButton),this._addon=new Slick.Plugins.HeaderButtons(this.sharedService.gridOptions.headerButton||{}),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.headerButton&&(this.sharedService.gridOptions.headerButton.onExtensionRegistered&&this.sharedService.gridOptions.headerButton.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCommand,(function(i,t){e.sharedService.gridOptions.headerButton&&"function"==typeof e.sharedService.gridOptions.headerButton.onCommand&&e.sharedService.gridOptions.headerButton.onCommand(i,t)}))),this._addon):null},e=D([Object(r.n)(!0),Object(r.m)(s.a,n.a)],e)}(),H=t("aurelia-event-aggregator"),I=function(){return(I=Object.assign||function(e){for(var i,t=1,r=arguments.length;t<r;t++)for(var n in i=arguments[t])Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e}).apply(this,arguments)},V=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},j=function(){function e(e,i,t,r,n,o){this.ea=e,this.extensionUtility=i,this.filterService=t,this.i18n=r,this.sharedService=n,this.sortService=o,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this._locales=this.sharedService.gridOptions&&this.sharedService.gridOptions.locales||y.a.locales,this.extensionUtility.loadExtensionDynamically(o.d.headerMenu),this.sharedService.gridOptions.headerMenu=I(I({},this.getDefaultHeaderMenuOptions()),this.sharedService.gridOptions.headerMenu),this.sharedService.gridOptions.enableHeaderMenu&&(this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(this.sharedService.gridOptions,this.sharedService.columnDefinitions)),this._addon=new Slick.Plugins.HeaderMenu(this.sharedService.gridOptions.headerMenu),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.headerMenu&&(this.sharedService.gridOptions.headerMenu.onExtensionRegistered&&this.sharedService.gridOptions.headerMenu.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCommand,(function(i,t){e.executeHeaderMenuInternalCommands(i,t),e.sharedService.gridOptions.headerMenu&&"function"==typeof e.sharedService.gridOptions.headerMenu.onCommand&&e.sharedService.gridOptions.headerMenu.onCommand(i,t)})),this._eventHandler.subscribe(this._addon.onBeforeMenuShow,(function(i,t){e.sharedService.gridOptions.headerMenu&&"function"==typeof e.sharedService.gridOptions.headerMenu.onBeforeMenuShow&&e.sharedService.gridOptions.headerMenu.onBeforeMenuShow(i,t)}))),this._addon):null},e.prototype.addHeaderMenuCustomCommands=function(e,i){var t=this,r=e.headerMenu||{};return i&&Array.isArray(i)&&e.enableHeaderMenu&&i.forEach((function(i){if(i&&!i.excludeFromHeaderMenu){i.header&&i.header.menu||(i.header={menu:{items:[]}});var n=i&&i.header&&i.header.menu&&i.header.menu.items||[];e.enableSorting&&i.sortable&&r&&!r.hideSortCommands&&(0===n.filter((function(e){return"sort-asc"===e.command})).length&&n.push({iconCssClass:r.iconSortAscCommand||"fa fa-sort-asc",title:e.enableTranslate?t.i18n.tr("SORT_ASCENDING"):t._locales&&t._locales.TEXT_SORT_ASCENDING,command:"sort-asc",positionOrder:50}),0===n.filter((function(e){return"sort-desc"===e.command})).length&&n.push({iconCssClass:r.iconSortDescCommand||"fa fa-sort-desc",title:e.enableTranslate?t.i18n.tr("SORT_DESCENDING"):t._locales&&t._locales.TEXT_SORT_DESCENDING,command:"sort-desc",positionOrder:51}),0===n.filter((function(e){return 52===e.positionOrder})).length&&n.push({divider:!0,command:"",positionOrder:52}),r.hideClearSortCommand||0!==n.filter((function(e){return"clear-sort"===e.command})).length||n.push({iconCssClass:r.iconClearSortCommand||"fa fa-unsorted",title:e.enableTranslate?t.i18n.tr("REMOVE_SORT"):t._locales&&t._locales.TEXT_REMOVE_SORT,command:"clear-sort",positionOrder:54})),e.enableFiltering&&i.filterable&&r&&!r.hideFilterCommands&&(r.hideClearFilterCommand||0!==n.filter((function(e){return"clear-filter"===e.command})).length||n.push({iconCssClass:r.iconClearFilterCommand||"fa fa-filter",title:e.enableTranslate?t.i18n.tr("REMOVE_FILTER"):t._locales&&t._locales.TEXT_REMOVE_FILTER,command:"clear-filter",positionOrder:53})),r&&!r.hideColumnHideCommand&&0===n.filter((function(e){return"hide"===e.command})).length&&n.push({iconCssClass:r.iconColumnHideCommand||"fa fa-times",title:e.enableTranslate?t.i18n.tr("HIDE_COLUMN"):t._locales&&t._locales.TEXT_HIDE_COLUMN,command:"hide",positionOrder:55}),t.extensionUtility.translateItems(n,"titleKey","title"),t.extensionUtility.sortItems(n,"positionOrder")}})),r},e.prototype.hideColumn=function(e){if(this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns&&this.sharedService.grid.getColumnIndex){var i=this.sharedService.grid.getColumnIndex(e.id),t=this.sharedService.grid.getColumns(),r=this.extensionUtility.arrayRemoveItemByIndex(t,i);this.sharedService.visibleColumns=r,this.sharedService.grid.setColumns(r),this.ea.publish("headerMenu:onColumnsChanged",{columns:r})}},e.prototype.translateHeaderMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.headerMenu&&this.resetHeaderMenuTranslations(this.sharedService.visibleColumns)},e.prototype.getDefaultHeaderMenuOptions=function(){return{autoAlignOffset:12,minWidth:140,hideColumnHideCommand:!1,hideSortCommands:!1,title:""}},e.prototype.resetHeaderMenuTranslations=function(e){var i=this;e.forEach((function(e){if(e&&e.header&&e.header.menu&&e.header.menu.items&&!e.excludeFromHeaderMenu){var t=e.header.menu.items||[];t.forEach((function(e){switch(e.command){case"clear-filter":e.title=i.i18n.tr("REMOVE_FILTER")||i._locales&&i._locales.TEXT_REMOVE_FILTER;break;case"clear-sort":e.title=i.i18n.tr("REMOVE_SORT")||i._locales&&i._locales.TEXT_REMOVE_SORT;break;case"sort-asc":e.title=i.i18n.tr("SORT_ASCENDING")||i._locales&&i._locales.TEXT_SORT_ASCENDING;break;case"sort-desc":e.title=i.i18n.tr("SORT_DESCENDING")||i._locales&&i._locales.TEXT_SORT_DESCENDING;break;case"hide":e.title=i.i18n.tr("HIDE_COLUMN")||i._locales&&i._locales.TEXT_HIDE_COLUMN}i.sharedService.gridOptions&&i.sharedService.gridOptions.enableTranslate&&i.extensionUtility.translateItems(t,"titleKey","title")}))}}))},e.prototype.clearColumnFilter=function(e,i){i&&i.column&&this.filterService.clearFilterByColumnId(e,i.column.id)},e.prototype.clearColumnSort=function(e,i){if(i&&i.column&&this.sharedService){var t=this.sortService.getCurrentColumnSorts(),r=this.sortService.getCurrentColumnSorts(i.column.id+"");if(Array.isArray(t)&&Array.isArray(r)&&t.length!==r.length){if(this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this.sharedService.grid});else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,r,!0);else{var n=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?r:r[0];i.grid.onSort.notify(n)}var o=r.map((function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc,sortCol:e&&e.sortCol}}));this.sharedService.grid.setSortColumns(o)}}},e.prototype.executeHeaderMenuInternalCommands=function(e,i){if(i&&i.command)switch(i.command){case"hide":this.hideColumn(i.column),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableAutoSizeColumns&&this.sharedService.grid.autosizeColumns();break;case"clear-filter":this.clearColumnFilter(e,i);break;case"clear-sort":this.clearColumnSort(e,i);break;case"sort-asc":case"sort-desc":var t="sort-asc"===i.command;this.sortColumn(e,i,t)}},e.prototype.sortColumn=function(e,i,t){if(void 0===t&&(t=!0),i&&i.column){var r=this.sortService.getCurrentColumnSorts(i.column.id+""),n=o.c.local;if(r.push({sortCol:i.column,sortAsc:t}),this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this.sharedService.grid}),n=o.c.remote;else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,r),n=o.c.local;else{var s=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?r:r[0];i.grid.onSort.notify(s)}var d=r.map((function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc,sortCol:e&&e.sortCol}}));if(this.sharedService.grid.setSortColumns(d),n){var a=[];d.forEach((function(e){a.push({columnId:e.columnId+"",direction:e.sortAsc?"ASC":"DESC"})})),this.sortService.emitSortChanged(n,a)}}},e=V([Object(r.n)(!0),Object(r.m)(H.a,s.a,w.a,r.e.of(O.I18N),n.a,C.a)],e)}(),U=t("lIXa"),B=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},F=function(){function e(e,i){this.extensionUtility=e,this.sharedService=i,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(e){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(o.d.rowMoveManager),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(o.d.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(e)),this._addon=new Slick.RowMoveManager(this.sharedService.gridOptions.rowMoveManager||{cancelEditOnDrag:!0}),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.rowMoveManager&&(this.sharedService.gridOptions.rowMoveManager.onExtensionRegistered&&this.sharedService.gridOptions.rowMoveManager.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onBeforeMoveRows,(function(e,t){i.sharedService.gridOptions.rowMoveManager&&"function"==typeof i.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows&&i.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows(e,t)})),this._eventHandler.subscribe(this._addon.onMoveRows,(function(e,t){i.sharedService.gridOptions.rowMoveManager&&"function"==typeof i.sharedService.gridOptions.rowMoveManager.onMoveRows&&i.sharedService.gridOptions.rowMoveManager.onMoveRows(e,t)}))),this._addon):null},e=B([Object(r.n)(!0),Object(r.m)(s.a,n.a)],e)}(),G=function(e,i,t,r){var n,o=arguments.length,s=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,i,t,r);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(o<3?n(s):o>3?n(i,t,s):n(i,t))||s);return o>3&&s&&Object.defineProperty(i,t,s),s},N=function(){function e(e,i){this.extensionUtility=e,this.sharedService=i}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(o.d.rowSelection),this._addon=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(this._addon),this._addon):null},e=G([Object(r.n)(!0),Object(r.m)(s.a,n.a)],e)}();t.d(i,"a",(function(){return a})),t.d(i,"b",(function(){return u})),t.d(i,"c",(function(){return g})),t.d(i,"d",(function(){return v})),t.d(i,"e",(function(){return m})),t.d(i,"f",(function(){return R})),t.d(i,"g",(function(){return P})),t.d(i,"h",(function(){return A})),t.d(i,"i",(function(){return j})),t.d(i,"j",(function(){return U.a})),t.d(i,"k",(function(){return F})),t.d(i,"l",(function(){return N}))}}]);
//# sourceMappingURL=vendors~e92d8b0b.6ef08191b292e3bd5608.bundle.map